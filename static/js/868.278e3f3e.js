(self["webpackChunkui"]=self["webpackChunkui"]||[]).push([[868],{5868:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>Le});var t=a(3673),o=a(2323);const m=(0,t.HX)("data-v-42e897ac");(0,t.dD)("data-v-42e897ac");const i={class:"full-vh"},d={class:"col"},n={class:"flex q-gutter-md"},u={class:"flex items-center"},s={class:"q-pa-md league-create"},c={class:"q-gutter-y-sm"},r={class:"flex justify-end"},v={class:"row q-col-gutter-md q-pa-md"},p={class:"col-md-8 col-sm-12 q-gutter-y-md"},b={key:0,class:"col-md col-sm-12"},f={class:"text-lg text-bold flex items-center justify-between"},g={class:"q-gutter-y-sm"},W={class:"flex justify-end"},w={class:"col-md col-sm-12"},y={class:"text-lg text-bold flex items-center justify-between"},h=(0,t.Wm)("div",null,"Teams",-1),C={class:"q-gutter-y-sm"},x={class:"flex justify-end"},V={class:"q-mt-md"},q={class:"q-gutter-md flex"},j={class:"col-md col-sm-12"},N={class:"text-lg text-bold flex items-center justify-between"},_=(0,t.Wm)("div",null,"Members",-1),k={class:"q-gutter-y-sm"},H={class:"row q-gutter-x-md"},U={class:"flex justify-end"},S={class:"q-mt-md"},z={class:"q-gutter-md flex"},T={class:"flex items-center q-gutter-x-sm"},M={class:"text-bold"},Y={class:"text-grey-8"},L={class:"col-md col-sm-12"},Z={class:"text-lg text-bold flex items-center justify-between"},Q=(0,t.Wm)("div",null,"Competitions",-1),O={class:"q-gutter-y-sm"},D={class:"row q-gutter-x-md"},P={class:"row items-center justify-end"},E={class:"row items-center justify-end"},K={class:"row q-gutter-x-md"},F={class:"flex justify-end"},I={class:"q-mt-md"},A={class:"flex q-gutter-md"},B={class:"text-lg text-bold"},R={class:"text-grey-8"},X={class:"q-mt-md"},$={class:"flex q-gutter-md"};(0,t.Cn)();const G=m(((e,l,a,G,J,ee)=>{const le=(0,t.up)("q-btn"),ae=(0,t.up)("q-input"),te=(0,t.up)("q-select"),oe=(0,t.up)("q-form"),me=(0,t.up)("q-popup-proxy"),ie=(0,t.up)("q-card-section"),de=(0,t.up)("q-card"),ne=(0,t.up)("q-separator"),ue=(0,t.up)("q-avatar"),se=(0,t.up)("q-date"),ce=(0,t.up)("q-icon"),re=(0,t.up)("q-time"),ve=(0,t.up)("q-page"),pe=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(ve,{class:"bg-grey-3"},{default:m((()=>[(0,t.Wm)("div",i,[(0,t.Wm)("div",d,[(0,t.Wm)(de,{class:"no-shadow"},{default:m((()=>[(0,t.Wm)(ie,{class:""},{default:m((()=>[(0,t.Wm)("div",n,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.leagues,(l=>((0,t.wg)(),(0,t.j4)("div",{key:l.id},[(0,t.Wm)(le,{color:e.selectedLeague===l?"primary":"black",label:l.name,"no-caps":"",outline:e.selectedLeague!==l,unelevated:"",onClick:a=>e.handleSelectLeague(l)},null,8,["color","label","outline","onClick"])])))),128)),(0,t.Wm)("div",u,[(0,t.Wm)(le,{icon:"add",size:"sm",color:"primary",round:"",unelevated:"",outline:""},{default:m((()=>[(0,t.Wm)(me,null,{default:m((()=>[(0,t.Wm)("div",s,[(0,t.Wm)(oe,{class:"full-width cf-hover-container",onSubmit:e.handleLeagueCreate},{default:m((()=>[(0,t.Wm)("div",c,[(0,t.Wm)(ae,{label:"Name",modelValue:e.leagueNew.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.leagueNew.name=l),dense:""},null,8,["modelValue"]),(0,t.Wm)(te,{label:"Teams",modelValue:e.leagueNew.teams,"onUpdate:modelValue":l[2]||(l[2]=l=>e.leagueNew.teams=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",options:e.teams,dense:"",multiple:""},null,8,["modelValue","options"]),(0,t.Wm)("div",r,[(0,t.Wm)(le,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])])])),_:1})])),_:1})])])])),_:1})])),_:1})]),(0,t.Wm)(ne),(0,t.Wm)("div",v,[(0,t.Wm)("div",p,[e.selectedLeague?((0,t.wg)(),(0,t.j4)("div",b,[(0,t.Wm)(de,{class:"no-shadow",bordered:""},{default:m((()=>[(0,t.Wm)(ie,null,{default:m((()=>[(0,t.Wm)("div",f,[(0,t.Wm)("div",null,"Update "+(0,o.zw)(e.selectedLeague.name),1)]),(0,t.Wm)(oe,{class:"full-width cf-hover-container",onSubmit:e.handleLeagueUpdate},{default:m((()=>[(0,t.Wm)("div",g,[(0,t.Wm)(ae,{label:"Name",modelValue:e.leagueUpdate.name,"onUpdate:modelValue":l[3]||(l[3]=l=>e.leagueUpdate.name=l),dense:""},null,8,["modelValue"]),(0,t.Wm)(te,{label:"Teams",modelValue:e.leagueUpdate.teams,"onUpdate:modelValue":l[4]||(l[4]=l=>e.leagueUpdate.teams=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",options:e.teams,dense:"",multiple:""},null,8,["modelValue","options"]),(0,t.Wm)("div",W,[(0,t.Wm)(le,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])):(0,t.kq)("",!0),(0,t.Wm)("div",w,[(0,t.Wm)(de,{class:"no-shadow",bordered:""},{default:m((()=>[(0,t.Wm)(ie,null,{default:m((()=>[(0,t.Wm)("div",y,[h,(0,t.Wm)(le,{icon:"add",color:"primary",size:"sm",outline:!e.teamCreate,round:"",unelevated:"",onClick:l[5]||(l[5]=l=>e.teamCreate=!e.teamCreate)},null,8,["outline"])]),e.teamCreate?((0,t.wg)(),(0,t.j4)(oe,{key:0,class:"full-width cf-hover-container",onSubmit:e.handleTeamCreate},{default:m((()=>[(0,t.Wm)("div",C,[(0,t.Wm)(ae,{label:"Name",modelValue:e.teamNew.name,"onUpdate:modelValue":l[6]||(l[6]=l=>e.teamNew.name=l),dense:""},null,8,["modelValue"]),(0,t.Wm)(ae,{label:"Email",modelValue:e.teamNew.email,"onUpdate:modelValue":l[7]||(l[7]=l=>e.teamNew.email=l),dense:""},null,8,["modelValue"]),(0,t.Wm)("div",x,[(0,t.Wm)(le,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])):(0,t.kq)("",!0),(0,t.Wm)("div",V,[(0,t.Wm)("div",q,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.filteredTeams,(l=>((0,t.wg)(),(0,t.j4)(le,{key:l.id,bordered:"",color:e.selectedTeam===l?"primary":"black",label:l.name,"no-caps":"",outline:e.selectedTeam!==l,unelevated:"",onClick:a=>e.handleTeamSelected(l)},null,8,["color","label","outline","onClick"])))),128))])])])),_:1})])),_:1})]),(0,t.Wm)("div",j,[(0,t.Wm)(de,{class:"no-shadow",bordered:""},{default:m((()=>[(0,t.Wm)(ie,null,{default:m((()=>[(0,t.Wm)("div",N,[_,(0,t.Wm)(le,{icon:"add",color:"primary",size:"sm",outline:!e.memberCreate,round:"",unelevated:"",onClick:e.handleMemCreateEnable},null,8,["outline","onClick"])]),e.memberCreate?((0,t.wg)(),(0,t.j4)(oe,{key:0,class:"full-width cf-hover-container",onSubmit:e.handleMemberCreate},{default:m((()=>[(0,t.Wm)("div",k,[(0,t.Wm)(ae,{label:"Name",modelValue:e.memberNew.name,"onUpdate:modelValue":l[8]||(l[8]=l=>e.memberNew.name=l),dense:""},null,8,["modelValue"]),(0,t.Wm)("div",H,[(0,t.Wm)(ae,{class:"col",label:"Email",modelValue:e.memberNew.email,"onUpdate:modelValue":l[9]||(l[9]=l=>e.memberNew.email=l),dense:""},null,8,["modelValue"]),(0,t.Wm)(te,{class:"col",label:"Team",modelValue:e.memberNew.team,"onUpdate:modelValue":l[10]||(l[10]=l=>e.memberNew.team=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",options:e.filteredTeams,dense:""},null,8,["modelValue","options"])]),(0,t.Wm)("div",U,[(0,t.Wm)(le,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])):(0,t.kq)("",!0),(0,t.Wm)("div",S,[(0,t.Wm)("div",z,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.filteredMembers,(e=>((0,t.wg)(),(0,t.j4)(de,{class:"no-shadow",key:e.id,bordered:""},{default:m((()=>[(0,t.Wm)(ie,{class:"q-gutter-y-sm"},{default:m((()=>[(0,t.Wm)("div",T,[(0,t.Wm)(ue,{color:"secondary text-white",size:"md"},{default:m((()=>[(0,t.Uk)((0,o.zw)(e.name.charAt(0)),1)])),_:2},1024),(0,t.Wm)("div",M,[(0,t.Wm)("div",null,(0,o.zw)(e.name),1),(0,t.Wm)("div",Y,(0,o.zw)(e.email),1)])])])),_:2},1024)])),_:2},1024)))),128))])])])),_:1})])),_:1})])]),(0,t.Wm)("div",L,[(0,t.Wm)(de,{class:"no-shadow",bordered:""},{default:m((()=>[(0,t.Wm)(ie,null,{default:m((()=>[(0,t.Wm)("div",Z,[Q,(0,t.Wm)(le,{icon:"add",color:"primary",size:"sm",outline:!e.competitionCreate,round:"",unelevated:"",onClick:e.handleCompCreateEnable},null,8,["outline","onClick"])]),e.competitionCreate?((0,t.wg)(),(0,t.j4)(oe,{key:0,class:"full-width cf-hover-container",onSubmit:e.handleCompetitionCreate},{default:m((()=>[(0,t.Wm)("div",O,[(0,t.Wm)("div",D,[(0,t.Wm)(ae,{class:"col",label:"Location",modelValue:e.competitionNew.location,"onUpdate:modelValue":l[11]||(l[11]=l=>e.competitionNew.location=l),dense:""},null,8,["modelValue"]),(0,t.Wm)(ae,{class:"col",modelValue:e.competitionNew.datetime,"onUpdate:modelValue":l[14]||(l[14]=l=>e.competitionNew.datetime=l),dense:""},{prepend:m((()=>[(0,t.Wm)(ce,{name:"event",class:"cursor-pointer",size:"xs"},{default:m((()=>[(0,t.Wm)(me,{"transition-show":"scale","transition-hide":"scale"},{default:m((()=>[(0,t.Wm)(se,{modelValue:e.competitionNew.datetime,"onUpdate:modelValue":l[12]||(l[12]=l=>e.competitionNew.datetime=l),mask:"YYYY-MM-DD HH:mm"},{default:m((()=>[(0,t.Wm)("div",P,[(0,t.wy)((0,t.Wm)(le,{label:"Close",color:"primary",flat:""},null,512),[[pe]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:m((()=>[(0,t.Wm)(ce,{name:"access_time",class:"cursor-pointer",size:"xs"},{default:m((()=>[(0,t.Wm)(me,{"transition-show":"scale","transition-hide":"scale"},{default:m((()=>[(0,t.Wm)(re,{modelValue:e.competitionNew.datetime,"onUpdate:modelValue":l[13]||(l[13]=l=>e.competitionNew.datetime=l),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:m((()=>[(0,t.Wm)("div",E,[(0,t.wy)((0,t.Wm)(le,{label:"Close",color:"primary",flat:""},null,512),[[pe]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t.Wm)("div",K,[(0,t.Wm)(te,{class:"col",label:"League",modelValue:e.competitionNew.league,"onUpdate:modelValue":l[15]||(l[15]=l=>e.competitionNew.league=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",options:e.leagues,dense:"",disable:""},null,8,["modelValue","options"]),(0,t.Wm)(te,{class:"col",label:"Team",modelValue:e.competitionNew.teams,"onUpdate:modelValue":l[16]||(l[16]=l=>e.competitionNew.teams=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",multiple:"",options:e.filteredTeams,dense:""},null,8,["modelValue","options"])]),(0,t.Wm)("div",F,[(0,t.Wm)(le,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])):(0,t.kq)("",!0),(0,t.Wm)("div",I,[(0,t.Wm)("div",A,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.filteredComps,(l=>((0,t.wg)(),(0,t.j4)(de,{class:"no-shadow",key:l.id,bordered:""},{default:m((()=>[(0,t.Wm)(ie,null,{default:m((()=>[(0,t.Wm)("div",B,(0,o.zw)(l.location),1),(0,t.Wm)("div",R,(0,o.zw)(e.dayjs(l.datetime).format("MMM D, YYYY h:mm")),1),(0,t.Wm)("div",X,[(0,t.Wm)("div",$,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(l.teams,(l=>((0,t.wg)(),(0,t.j4)(le,{key:l,bordered:"",label:e.teamsMap[l].name,"no-caps":"",outline:""},null,8,["label"])))),128))])])])),_:2},1024)])),_:2},1024)))),128))])])])),_:1})])),_:1})])])])])),_:1})}));var J=a(1959),ee=a(2291),le=a.n(ee);const ae={name:"New League",teams:[]},te={name:"New Member",email:"example@example.com"},oe={name:"New Team",email:"example@example.com"},me={location:"New Competition",datetime:"",teams:[]};var ie=a(52),de=a.n(ie);de().defaults.baseURL="https://league-aaron.herokuapp.com/";const ne=()=>de().get("teammembers"),ue=()=>de().get("teams"),se=()=>de().get("competitions"),ce=()=>de().get("leagues"),re=e=>de().post("teammembers-create",e),ve=e=>de().post("teams-create",e),pe=e=>de().post("competitions-create",e),be=e=>de().post("leagues-create",e),fe=e=>de().post(`leagues-update/${e.id}`,e);var ge=a(120),We=a.n(ge),we=function(e,l,a,t){function o(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,m){function i(e){try{n(t.next(e))}catch(l){m(l)}}function d(e){try{n(t["throw"](e))}catch(l){m(l)}}function n(e){e.done?a(e.value):o(e.value).then(i,d)}n((t=t.apply(e,l||[])).next())}))};const ye=(0,t.aZ)({name:"PageIndex",components:{},setup(){const e=(0,J.iH)([]),l=(0,J.iH)([]),a=(0,J.iH)({}),o=(0,J.iH)([]),m=(0,J.iH)([]),i=(0,J.iH)(),d=(0,J.iH)(),n=(0,J.iH)(!1),u=(0,J.iH)(Object.assign({},ae)),s=(0,J.iH)(Object.assign({},ae)),c=(0,J.iH)(Object.assign({},te)),r=(0,J.iH)(!1),v=(0,J.iH)(Object.assign({},oe)),p=(0,J.iH)(!1),b=(0,J.iH)(Object.assign({},me)),f=(0,t.Fl)((()=>i.value?m.value.filter((e=>{var l;return e.league===(null===(l=i.value)||void 0===l?void 0:l.id)})):m.value)),g=(0,t.Fl)((()=>i.value?l.value.filter((e=>{var l;return null===(l=i.value)||void 0===l?void 0:l.teams.includes(e.id)})):l.value)),W=(0,t.Fl)((()=>{let l=[];return l=i.value?e.value.filter((e=>{var l;return null===(l=i.value)||void 0===l?void 0:l.teams.includes(e.team)})):e.value,d.value?l.filter((e=>{var l;return e.team===(null===(l=d.value)||void 0===l?void 0:l.id)})):l}));(0,t.bv)((()=>we(this,void 0,void 0,(function*(){yield w()}))));const w=()=>we(this,void 0,void 0,(function*(){const[t,n,u,s]=yield Promise.all([ne(),ue(),se(),ce()]);e.value=t.data,l.value=n.data,o.value=s.data,m.value=u.data,l.value&&(a.value=l.value.reduce(((e,l)=>(e[l.id.toString()]=l,e)),{})),i.value&&(i.value=o.value.find((e=>{var l;return e.id===(null===(l=i.value)||void 0===l?void 0:l.id)}))),d.value&&(d.value=l.value.find((e=>{var l;return e.id===(null===(l=d.value)||void 0===l?void 0:l.id)})))})),y=e=>{i.value===e?i.value=void 0:(p.value=!1,r.value=!1,n.value=!1,d.value=void 0,i.value=e,s.value=le()(i.value))},h=e=>{var l;d.value===e?d.value=void 0:d.value=e,c.value.team=null===(l=d.value)||void 0===l?void 0:l.id},C=()=>we(this,void 0,void 0,(function*(){yield re(c.value),c.value=Object.assign({},te),yield w()})),x=()=>we(this,void 0,void 0,(function*(){const e=yield ve(v.value);v.value=Object.assign({},oe),i.value&&e.data&&e.data.id&&(i.value.teams.push(e.data.id),yield fe(i.value)),yield w()})),V=()=>we(this,void 0,void 0,(function*(){yield pe(b.value),b.value=Object.assign({},me),yield w()})),q=()=>we(this,void 0,void 0,(function*(){yield be(u.value),u.value=Object.assign({},ae),yield w()})),j=()=>we(this,void 0,void 0,(function*(){yield fe(s.value),yield w()})),N=()=>{var e;p.value=!p.value,p.value&&(b.value=Object.assign({},me),b.value.league=null===(e=i.value)||void 0===e?void 0:e.id)},_=()=>{var e;n.value=!n.value,n.value&&(c.value=Object.assign({},te),c.value.team=null===(e=d.value)||void 0===e?void 0:e.id)};return{dayjs:We(),members:e,teams:l,teamsMap:a,leagues:o,competitions:m,selectedLeague:i,selectedTeam:d,memberCreate:n,memberNew:c,teamCreate:r,teamNew:v,competitionCreate:p,competitionNew:b,leagueNew:u,leagueUpdate:s,filteredComps:f,filteredTeams:g,filteredMembers:W,handleSelectLeague:y,handleTeamSelected:h,handleMemberCreate:C,handleTeamCreate:x,handleCompetitionCreate:V,handleCompCreateEnable:N,handleMemCreateEnable:_,handleLeagueCreate:q,handleLeagueUpdate:j}}});var he=a(4379),Ce=a(151),xe=a(5589),Ve=a(4607),qe=a(3944),je=a(8689),Ne=a(4842),_e=a(7217),ke=a(5869),He=a(5096),Ue=a(4554),Se=a(2651),ze=a(1534),Te=a(677),Me=a(7518),Ye=a.n(Me);ye.render=G,ye.__scopeId="data-v-42e897ac";const Le=ye;Ye()(ye,"components",{QPage:he.Z,QCard:Ce.Z,QCardSection:xe.Z,QBtn:Ve.Z,QPopupProxy:qe.Z,QForm:je.Z,QInput:Ne.Z,QSelect:_e.Z,QSeparator:ke.Z,QAvatar:He.Z,QIcon:Ue.Z,QDate:Se.Z,QTime:ze.Z}),Ye()(ye,"directives",{ClosePopup:Te.Z})}}]);