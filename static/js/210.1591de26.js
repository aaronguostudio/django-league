(self["webpackChunkui"]=self["webpackChunkui"]||[]).push([[210],{4210:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>qe});var t=a(3673),o=a(2323);const m=(0,t.HX)("data-v-b9988c84");(0,t.dD)("data-v-b9988c84");const i={class:"full-vh"},n={class:"col"},d=(0,t.Wm)("div",{class:"text-lg text-bold"},"Leagues",-1),s={class:"q-ml-sm flex q-gutter-x-md"},u={class:"row q-col-gutter-md q-pa-md"},c={class:"col"},r={class:"text-lg text-bold flex items-center justify-between"},v=(0,t.Wm)("div",null,"Teams",-1),p={class:"q-gutter-y-sm"},b={class:"flex justify-end"},f={class:"q-mt-md"},w={class:"q-gutter-md flex"},W={class:"col"},g={class:"text-lg text-bold flex items-center justify-between"},y=(0,t.Wm)("div",null,"Members",-1),h={class:"q-gutter-y-sm"},C={class:"row q-gutter-x-md"},x={class:"flex justify-end"},q={class:"q-mt-md"},V={class:"q-gutter-md flex"},j={class:"flex items-center q-gutter-x-sm"},N={class:"text-bold"},k={class:"text-grey-8"},_={class:"col"},H={class:"text-lg text-bold flex items-center justify-between"},M=(0,t.Wm)("div",null,"Competitions",-1),S={class:"q-gutter-y-sm"},Y={class:"row q-gutter-x-md"},T={class:"row items-center justify-end"},Z={class:"row items-center justify-end"},z={class:"row q-gutter-x-md"},Q={class:"flex justify-end"},U={class:"q-mt-md"},L={class:"flex q-gutter-md"},O={class:"text-lg text-bold"},D={class:"text-grey-8"},P={class:"q-mt-md"},E={class:"flex q-gutter-md"};(0,t.Cn)();const K=m(((e,l,a,K,F,I)=>{const A=(0,t.up)("q-btn"),B=(0,t.up)("q-card-section"),R=(0,t.up)("q-card"),X=(0,t.up)("q-separator"),G=(0,t.up)("q-input"),J=(0,t.up)("q-form"),$=(0,t.up)("q-select"),ee=(0,t.up)("q-avatar"),le=(0,t.up)("q-date"),ae=(0,t.up)("q-popup-proxy"),te=(0,t.up)("q-icon"),oe=(0,t.up)("q-time"),me=(0,t.up)("q-page"),ie=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(me,{class:"bg-grey-3"},{default:m((()=>[(0,t.Wm)("div",i,[(0,t.Wm)("div",n,[(0,t.Wm)(R,{class:"no-shadow"},{default:m((()=>[(0,t.Wm)(B,{class:"flex items-center"},{default:m((()=>[d,(0,t.Wm)("div",s,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.leagues,(l=>((0,t.wg)(),(0,t.j4)("div",{key:l.id},[(0,t.Wm)(A,{color:e.selectedLeague===l?"primary":"black",label:l.name,"no-caps":"",outline:e.selectedLeague!==l,unelevated:"",onClick:a=>e.handleSelectLeague(l)},null,8,["color","label","outline","onClick"])])))),128))])])),_:1})])),_:1})]),(0,t.Wm)(X),(0,t.Wm)("div",u,[(0,t.Wm)("div",c,[(0,t.Wm)(R,{class:"no-shadow",bordered:""},{default:m((()=>[(0,t.Wm)(B,null,{default:m((()=>[(0,t.Wm)("div",r,[v,(0,t.Wm)(A,{icon:"add",color:"primary",size:"sm",outline:!e.teamCreate,round:"",unelevated:"",onClick:l[1]||(l[1]=l=>e.teamCreate=!e.teamCreate)},null,8,["outline"])]),e.teamCreate?((0,t.wg)(),(0,t.j4)(J,{key:0,class:"full-width cf-hover-container",onSubmit:e.handleTeamCreate},{default:m((()=>[(0,t.Wm)("div",p,[(0,t.Wm)(G,{label:"Name",modelValue:e.teamNew.name,"onUpdate:modelValue":l[2]||(l[2]=l=>e.teamNew.name=l),dense:""},null,8,["modelValue"]),(0,t.Wm)(G,{label:"Email",modelValue:e.teamNew.email,"onUpdate:modelValue":l[3]||(l[3]=l=>e.teamNew.email=l),dense:""},null,8,["modelValue"]),(0,t.Wm)("div",b,[(0,t.Wm)(A,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])):(0,t.kq)("",!0),(0,t.Wm)("div",f,[(0,t.Wm)("div",w,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.filteredTeams,(l=>((0,t.wg)(),(0,t.j4)(A,{key:l.id,bordered:"",color:e.selectedTeam===l?"primary":"black",label:l.name,"no-caps":"",outline:e.selectedTeam!==l,unelevated:"",onClick:a=>e.handleTeamSelected(l)},null,8,["color","label","outline","onClick"])))),128))])])])),_:1})])),_:1})]),(0,t.Wm)("div",W,[(0,t.Wm)(R,{class:"no-shadow",bordered:""},{default:m((()=>[(0,t.Wm)(B,null,{default:m((()=>[(0,t.Wm)("div",g,[y,(0,t.Wm)(A,{icon:"add",color:"primary",size:"sm",outline:!e.memberCreate,round:"",unelevated:"",onClick:e.handleMemCreateEnable},null,8,["outline","onClick"])]),e.memberCreate?((0,t.wg)(),(0,t.j4)(J,{key:0,class:"full-width cf-hover-container",onSubmit:e.handleMemberCreate},{default:m((()=>[(0,t.Wm)("div",h,[(0,t.Wm)(G,{label:"Name",modelValue:e.memberNew.name,"onUpdate:modelValue":l[4]||(l[4]=l=>e.memberNew.name=l),dense:""},null,8,["modelValue"]),(0,t.Wm)("div",C,[(0,t.Wm)(G,{class:"col",label:"Email",modelValue:e.memberNew.email,"onUpdate:modelValue":l[5]||(l[5]=l=>e.memberNew.email=l),dense:""},null,8,["modelValue"]),(0,t.Wm)($,{class:"col",label:"Team",modelValue:e.memberNew.team,"onUpdate:modelValue":l[6]||(l[6]=l=>e.memberNew.team=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",options:e.filteredTeams,dense:""},null,8,["modelValue","options"])]),(0,t.Wm)("div",x,[(0,t.Wm)(A,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])):(0,t.kq)("",!0),(0,t.Wm)("div",q,[(0,t.Wm)("div",V,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.filteredMembers,(e=>((0,t.wg)(),(0,t.j4)(R,{class:"no-shadow",key:e.id,bordered:""},{default:m((()=>[(0,t.Wm)(B,{class:"q-gutter-y-sm"},{default:m((()=>[(0,t.Wm)("div",j,[(0,t.Wm)(ee,{color:"secondary text-white",size:"md"},{default:m((()=>[(0,t.Uk)((0,o.zw)(e.name.charAt(0)),1)])),_:2},1024),(0,t.Wm)("div",N,[(0,t.Wm)("div",null,(0,o.zw)(e.name),1),(0,t.Wm)("div",k,(0,o.zw)(e.email),1)])])])),_:2},1024)])),_:2},1024)))),128))])])])),_:1})])),_:1})]),(0,t.Wm)("div",_,[(0,t.Wm)(R,{class:"no-shadow",bordered:""},{default:m((()=>[(0,t.Wm)(B,null,{default:m((()=>[(0,t.Wm)("div",H,[M,(0,t.Wm)(A,{icon:"add",color:"primary",size:"sm",outline:!e.competitionCreate,round:"",unelevated:"",onClick:e.handleCompCreateEnable},null,8,["outline","onClick"])]),e.competitionCreate?((0,t.wg)(),(0,t.j4)(J,{key:0,class:"full-width cf-hover-container",onSubmit:e.handleCompetitionCreate},{default:m((()=>[(0,t.Wm)("div",S,[(0,t.Wm)("div",Y,[(0,t.Wm)(G,{class:"col",label:"Location",modelValue:e.competitionNew.location,"onUpdate:modelValue":l[7]||(l[7]=l=>e.competitionNew.location=l),dense:""},null,8,["modelValue"]),(0,t.Wm)(G,{class:"col",modelValue:e.competitionNew.datetime,"onUpdate:modelValue":l[10]||(l[10]=l=>e.competitionNew.datetime=l),dense:""},{prepend:m((()=>[(0,t.Wm)(te,{name:"event",class:"cursor-pointer",size:"xs"},{default:m((()=>[(0,t.Wm)(ae,{"transition-show":"scale","transition-hide":"scale"},{default:m((()=>[(0,t.Wm)(le,{modelValue:e.competitionNew.datetime,"onUpdate:modelValue":l[8]||(l[8]=l=>e.competitionNew.datetime=l),mask:"YYYY-MM-DD HH:mm"},{default:m((()=>[(0,t.Wm)("div",T,[(0,t.wy)((0,t.Wm)(A,{label:"Close",color:"primary",flat:""},null,512),[[ie]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:m((()=>[(0,t.Wm)(te,{name:"access_time",class:"cursor-pointer",size:"xs"},{default:m((()=>[(0,t.Wm)(ae,{"transition-show":"scale","transition-hide":"scale"},{default:m((()=>[(0,t.Wm)(oe,{modelValue:e.competitionNew.datetime,"onUpdate:modelValue":l[9]||(l[9]=l=>e.competitionNew.datetime=l),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:m((()=>[(0,t.Wm)("div",Z,[(0,t.wy)((0,t.Wm)(A,{label:"Close",color:"primary",flat:""},null,512),[[ie]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t.Wm)("div",z,[(0,t.Wm)($,{class:"col",label:"League",modelValue:e.competitionNew.league,"onUpdate:modelValue":l[11]||(l[11]=l=>e.competitionNew.league=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",options:e.leagues,dense:"",disable:""},null,8,["modelValue","options"]),(0,t.Wm)($,{class:"col",label:"Team",modelValue:e.competitionNew.teams,"onUpdate:modelValue":l[12]||(l[12]=l=>e.competitionNew.teams=l),"map-options":"","option-label":"name","emit-value":"","option-value":"id",multiple:"",options:e.filteredTeams,dense:""},null,8,["modelValue","options"])]),(0,t.Wm)("div",Q,[(0,t.Wm)(A,{label:"Submit",color:"primary",size:".7rem","no-caps":"",unelevated:"",type:"submit"})])])])),_:1},8,["onSubmit"])):(0,t.kq)("",!0),(0,t.Wm)("div",U,[(0,t.Wm)("div",L,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.filteredComps,(l=>((0,t.wg)(),(0,t.j4)(R,{class:"no-shadow",key:l.id,bordered:""},{default:m((()=>[(0,t.Wm)(B,null,{default:m((()=>[(0,t.Wm)("div",O,(0,o.zw)(l.location),1),(0,t.Wm)("div",D,(0,o.zw)(e.dayjs(l.datetime).format("MMM D, YYYY h:mm")),1),(0,t.Wm)("div",P,[(0,t.Wm)("div",E,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(l.teams,(l=>((0,t.wg)(),(0,t.j4)(A,{key:l,bordered:"",label:e.teamsMap[l].name,"no-caps":"",outline:""},null,8,["label"])))),128))])])])),_:2},1024)])),_:2},1024)))),128))])])])),_:1})])),_:1})])])])])),_:1})}));var F=a(1959);const I={name:"New Member",email:"example@example.com"},A={name:"New Team",email:"example@example.com"},B={location:"New Competition",datetime:"",teams:[]};var R=a(52),X=a.n(R);X().defaults.baseURL="http://localhost:8000/";const G=()=>X().get("teammembers"),J=()=>X().get("teams"),$=()=>X().get("competitions"),ee=()=>X().get("leagues"),le=e=>X().post("teammembers-create",e),ae=e=>X().post("teams-create",e),te=e=>X().post("competitions-create",e);var oe=a(120),me=a.n(oe),ie=function(e,l,a,t){function o(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,m){function i(e){try{d(t.next(e))}catch(l){m(l)}}function n(e){try{d(t["throw"](e))}catch(l){m(l)}}function d(e){e.done?a(e.value):o(e.value).then(i,n)}d((t=t.apply(e,l||[])).next())}))};const ne=(0,t.aZ)({name:"PageIndex",components:{},setup(){const e=(0,F.iH)([]),l=(0,F.iH)([]),a=(0,F.iH)({}),o=(0,F.iH)([]),m=(0,F.iH)([]),i=(0,F.iH)(),n=(0,F.iH)(),d=(0,F.iH)(!1),s=(0,F.iH)(Object.assign({},I)),u=(0,F.iH)(!1),c=(0,F.iH)(Object.assign({},A)),r=(0,F.iH)(!1),v=(0,F.iH)(Object.assign({},B)),p=(0,t.Fl)((()=>m.value.filter((e=>{var l;return e.league===(null===(l=i.value)||void 0===l?void 0:l.id)})))),b=(0,t.Fl)((()=>l.value.filter((e=>{var l;return null===(l=i.value)||void 0===l?void 0:l.teams.includes(e.id)})))),f=(0,t.Fl)((()=>{const l=e.value.filter((e=>{var l;return null===(l=i.value)||void 0===l?void 0:l.teams.includes(e.team)}));return n.value?l.filter((e=>{var l;return e.team===(null===(l=n.value)||void 0===l?void 0:l.id)})):l}));(0,t.bv)((()=>ie(this,void 0,void 0,(function*(){yield w()}))));const w=()=>ie(this,void 0,void 0,(function*(){const[t,n,d,s]=yield Promise.all([G(),J(),$(),ee()]);e.value=t.data,l.value=n.data,o.value=s.data,m.value=d.data,l.value&&(a.value=l.value.reduce(((e,l)=>(e[l.id.toString()]=l,e)),{})),o.value&&o.value.length>0&&(i.value=o.value[0])})),W=e=>{r.value=!1,u.value=!1,d.value=!1,i.value=e},g=e=>{var l;n.value===e?n.value=void 0:n.value=e,s.value.team=null===(l=n.value)||void 0===l?void 0:l.id},y=()=>ie(this,void 0,void 0,(function*(){yield le(s.value),s.value=Object.assign({},I),yield w()})),h=()=>ie(this,void 0,void 0,(function*(){yield ae(c.value),c.value=Object.assign({},A),yield w()})),C=()=>ie(this,void 0,void 0,(function*(){yield te(v.value),v.value=Object.assign({},B),yield w()})),x=()=>{var e;r.value=!r.value,r.value&&(v.value=Object.assign({},B),v.value.league=null===(e=i.value)||void 0===e?void 0:e.id)},q=()=>{var e;d.value=!d.value,d.value&&(s.value=Object.assign({},I),s.value.team=null===(e=n.value)||void 0===e?void 0:e.id)};return{dayjs:me(),members:e,teams:l,teamsMap:a,leagues:o,competitions:m,selectedLeague:i,selectedTeam:n,memberCreate:d,memberNew:s,teamCreate:u,teamNew:c,competitionCreate:r,competitionNew:v,filteredComps:p,filteredTeams:b,filteredMembers:f,handleSelectLeague:W,handleTeamSelected:g,handleMemberCreate:y,handleTeamCreate:h,handleCompetitionCreate:C,handleCompCreateEnable:x,handleMemCreateEnable:q}}});var de=a(4379),se=a(151),ue=a(5589),ce=a(4607),re=a(5869),ve=a(8689),pe=a(4842),be=a(7217),fe=a(5096),we=a(4554),We=a(3944),ge=a(2651),ye=a(1534),he=a(677),Ce=a(7518),xe=a.n(Ce);ne.render=K,ne.__scopeId="data-v-b9988c84";const qe=ne;xe()(ne,"components",{QPage:de.Z,QCard:se.Z,QCardSection:ue.Z,QBtn:ce.Z,QSeparator:re.Z,QForm:ve.Z,QInput:pe.Z,QSelect:be.Z,QAvatar:fe.Z,QIcon:we.Z,QPopupProxy:We.Z,QDate:ge.Z,QTime:ye.Z}),xe()(ne,"directives",{ClosePopup:he.Z})}}]);